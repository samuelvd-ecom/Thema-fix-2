{% style %}
  .section-{{ section.id }} {
    border-top: solid {{ section.settings.border_color }} {{ section.settings.border_thickness }}px;
    border-bottom: solid {{ section.settings.border_color }} {{ section.settings.border_thickness }}px;
    margin-top: {{ section.settings.margin_top | times: 0.75 | round: 0 }}px;
    margin-bottom: {{ section.settings.margin_bottom | times: 0.75 | round: 0 }}px;
    background-color: {{ section.settings.background_color }};
    background-image: {{ section.settings.background_gradient }};
    transition: background-color 0.3s ease;
    width: 100%;
  }
  
  .section-{{ section.id }}-settings {
    margin: 0 auto;
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
    padding-left: {{ section.settings.padding_horizontal_mobile }}rem;
    padding-right: {{ section.settings.padding_horizontal_mobile }}rem;
    width: 100%;
    box-sizing: border-box;
  }

  .feature-{{ section.id }} .box__title {
    margin: 0;
    font-size: {{ section.settings.feature_heading_size_mobile }}px;
    color: {{ section.settings.feature_heading_color }};
    line-height: {{ section.settings.feature_heading_height }}%;
    font-weight: 600;
    margin-top: {{ section.settings.feature_heading_mt }}px;
    transition: color 0.3s ease;
  }
  
  .feature-{{ section.id }} .box__description {
    margin-top: {{ section.settings.feature_text_mt | times: 0.75 | round: 0 }}px;
  }

  .feature-{{ section.id }} .box__description * {
    margin: 0;
    font-size: {{ section.settings.feature_text_size_mobile }}px;
    color: {{ section.settings.feature_text_color }};
    line-height: {{ section.settings.feature_text_height }}%;
    opacity: 0.8;
    transition: opacity 0.3s ease;
  }

  .feature-{{ section.id }} .wrapper-box {
    display: grid;
    grid-template-columns: repeat({{ section.settings.feature_row_mobile}}, 1fr);
    background-color: {{ section.settings.feature_bg }};
    border: {{ section.settings.feature_border_thickness }}px solid {{ section.settings.feature_border_color }};
    border-radius: {{ section.settings.feature_radius }}px;
    padding: {{ section.settings.feature_padding_vertical | times: 0.75 | round: 0 }}px {{ section.settings.feature_padding_horizontal | times: 0.75 | round: 0 }}px;
    gap: {{ section.settings.feature_gap_mobile }}px;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    width: 100%;
  }
  
  .feature-{{ section.id }} .box {
    flex: 1;
    display: flex;
    align-items: center;
    flex-direction: column;
    position: relative;
    text-align: center;
    text-decoration: none;
    gap: 8px;
    padding: 16px;
    border-radius: {{ section.settings.feature_radius | divided_by: 2 }}px;
    transition: background-color 0.3s ease;
    box-sizing: border-box;
  }
  
  .feature-{{ section.id }} .box:hover {
    background-color: {{ section.settings.feature_bg | color_modify: 'alpha', 0.05 }};
    transform: translateY(-4px);
  }
  
  .feature-{{ section.id }} .box:hover .box__title {
    color: {{ section.settings.feature_heading_color | color_darken: 10 }};
  }
  
  .feature-{{ section.id }} .box:hover .box__description * {
    opacity: 1;
  }
  
  .feature-{{ section.id }} .box__image {
    display: flex;
    justify-content: center;
    align-items: center;
    flex: 0 0 {{ section.settings.feature_icon_size_mobile }}px;
    height: {{ section.settings.feature_icon_size_mobile }}px;
    width: {{ section.settings.feature_icon_size_mobile }}px;
    transition: transform 0.3s ease;
  }

  .feature-{{ section.id }} .box:hover .box__image {
    transform: scale(1.1);
  }

  .feature-{{ section.id }} .box__image img,
  .feature-{{ section.id }} .box__image svg {
    max-height: 100%;
    max-width: 100%;
    object-fit: contain;
    fill: {{ section.settings.feature_icon_color }};
  }

  @media(min-width: 768px) {
    .section-{{ section.id }} {
      margin-top: {{ section.settings.margin_top }}px;
      margin-bottom: {{ section.settings.margin_bottom }}px;
    }
    
    .section-{{ section.id }}-settings {
      padding: 0 5rem;
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
      padding-left: {{ section.settings.padding_horizontal }}rem;
      padding-right: {{ section.settings.padding_horizontal }}rem;
    }

    .feature-{{ section.id }} .wrapper-box {
      grid-template-columns: repeat({{ section.settings.feature_row }}, 1fr);
      padding: {{ section.settings.feature_padding_vertical }}px {{ section.settings.feature_padding_horizontal }}px;
      gap: {{ section.settings.feature_gap }}px;
    }

    .feature-{{ section.id }} .box__title {
      font-size: {{ section.settings.feature_heading_size }}px;
    }

    .feature-{{ section.id }} .box__description * {
      font-size: {{ section.settings.feature_text_size }}px;
    }

    .feature-{{ section.id }} .box__image {
      flex: 0 0 {{ section.settings.feature_icon_size }}px;
      height: {{ section.settings.feature_icon_size }}px;
      width: {{ section.settings.feature_icon_size }}px;
    }
  }

  @media(min-width: 1024px) {
    .feature-{{ section.id }} .box {
      padding: 24px;
    }
  }
  @media (min-width: 768px) {
    .section-sections--24446409671002__trust_haseeb_bVNx3R-settings {
        padding: 0 5rem;
        padding-top: 16px;
        padding-bottom: 16px;
        padding-left: 2rem;
        padding-right: 2rem;
    }
}
  .feature-sections--24446409671002__trust_haseeb_bVNx3R .box {
    flex: 1;
    display: flex;
    align-items: center;
    flex-direction: column;
    position: relative;
    text-align: center;
    text-decoration: none;
    gap: 0px;
    padding: 16px;
    border-radius: 0px;
    transition: background-color 0.3s ease;
    box-sizing: border-box;
}
{% endstyle %}

{% unless section.settings.full_width %}
  <style>
    .section-{{ section.id }}-settings {
      max-width: {{ section.settings.content_width }}rem;
    }
  </style>
{% endunless %}

{% if section.settings.feature_shadow %}
  <style>
    .feature-{{ section.id }} .wrapper-box {
      box-shadow: 0 4px 20px {{ section.settings.feature_shadow_color | hex_to_rgba: 0.15 }};
    }
    .feature-{{ section.id }} .box:hover {
      box-shadow: 0 6px 24px {{ section.settings.feature_shadow_color | hex_to_rgba: 0.25 }};
    }
  </style>
{% endif %}

<div class="section-{{ section.id }} feature-{{ section.id }}">
    <div class="section-{{ section.id }}-settings">
      <div class="wrapper-box">
          {%- for block in section.blocks -%}
              <{% if block.settings.feature_url != blank %}a href="{{ block.settings.feature_url }}"{% else %}div{% endif %} class="box">
                  {% unless block.settings.hide_image %}
                  <div class="box__image">
                      {%- if block.settings.feature_image != blank -%}
                        <img src="{{ block.settings.feature_image | image_url }}" alt="feature-item-{{ forloop.index }}" {% if section.settings.lazy %}loading="lazy"{% endif %}>
                      {%- elsif block.settings.feature_svg_code != blank -%}
                        {{ block.settings.feature_svg_code }}
                      {%- else -%}
                        {% case forloop.index %}
                          {% when 1 %}
                            {{ svg_example_1 }}
                          {% when 2 %}
                            {{ svg_example_2 }}
                          {% when 3 %}
                            {{ svg_example_3 }}
                          {% when 4 %}
                            {{ svg_example_4 }}
                          {% else %}
                            {{ svg_example_1 }}
                        {% endcase %}
                      {%- endif -%}
                  </div>
                  {% endunless %}
                  <div class="box__content-wrapper">
                      <div class="box__title">{{ block.settings.feature_title }}</div>
                      <div class="box__description">{{ block.settings.feature_text }}</div>
                  </div>
              </{% if block.settings.feature_url != blank %}a{% else %}div{% endif %}>
          {%- endfor -%}
      </div>
    </div>
</div>

{% schema %}
{
    "name": "Feature Blocks",
    "tag": "section",
    "disabled_on": {
      "groups": ["header", "custom.popup"]
    },
    "class": "feature-type1",
    "settings": [
      {
        "type": "header",
        "content": "Feature wrapper settings"
      },
      {
        "type": "range",
        "id": "feature_row",
        "min": 1,
        "max": 5,
        "step": 1,
        "label": "Features per row",
        "default": 4
      },
      {
        "type": "range",
        "id": "feature_row_mobile",
        "min": 1,
        "max": 4,
        "step": 1,
        "label": "Features per row - mobile",
        "default": 1
      },
      {
        "type": "range",
        "id": "feature_gap",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Gap",
        "default": 24
      },
      {
        "type": "range",
        "id": "feature_gap_mobile",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Gap - mobile",
        "default": 16
      },
      {
        "type": "range",
        "id": "feature_padding_horizontal",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Padding horizontal",
        "default": 20
      },
      {
        "type": "range",
        "id": "feature_padding_vertical",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Padding vertical",
        "default": 20
      },
      {
        "type": "range",
        "id": "feature_radius",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Roundness",
        "default": 12
      },
      {
        "type": "range",
        "id": "feature_border_thickness",
        "min": 0,
        "max": 10,
        "step": 1,
        "unit": "px",
        "label": "Border thickness",
        "default": 1
      },
      {
        "type": "checkbox",
        "id": "feature_shadow",
        "label": "Enable shadow",
        "default": true
      },
      {
        "type": "header",
        "content": "Feature heading settings"
      },
      {
        "type": "range",
        "id": "feature_heading_size",
        "min": 0,
        "max": 72,
        "step": 2,
        "unit": "px",
        "label": "Font size",
        "default": 16
      },
      {
        "type": "range",
        "id": "feature_heading_size_mobile",
        "min": 0,
        "max": 72,
        "step": 2,
        "unit": "px",
        "label": "Font size - mobile",
        "default": 14
      },
      {
        "type": "range",
        "id": "feature_heading_height",
        "min": 100,
        "max": 200,
        "step": 10,
        "unit": "%",
        "label": "Line height",
        "default": 140
      },
      {
        "type": "range",
        "id": "feature_heading_mt",
        "min": 0,
        "max": 50,
        "step": 2,
        "unit": "px",
        "label": "Margin top",
        "default": 12
      },
      {
        "type": "header",
        "content": "Feature text settings"
      },
      {
        "type": "range",
        "id": "feature_text_size",
        "min": 0,
        "max": 72,
        "step": 2,
        "unit": "px",
        "label": "Font size",
        "default": 14
      },
      {
        "type": "range",
        "id": "feature_text_size_mobile",
        "min": 0,
        "max": 72,
        "step": 2,
        "unit": "px",
        "label": "Font size - mobile",
        "default": 12
      },
      {
        "type": "range",
        "id": "feature_text_height",
        "min": 100,
        "max": 200,
        "step": 10,
        "unit": "%",
        "label": "Line height",
        "default": 150
      },
      {
        "type": "range",
        "id": "feature_text_mt",
        "min": 0,
        "max": 50,
        "step": 2,
        "unit": "px",
        "label": "Margin top",
        "default": 8
      },
      {
        "type": "header",
        "content": "Feature icon settings"
      },
      {
        "type": "range",
        "id": "feature_icon_size",
        "min": 20,
        "max": 200,
        "step": 2,
        "unit": "px",
        "label": "Size",
        "default": 48
      },
      {
        "type": "range",
        "id": "feature_icon_size_mobile",
        "min": 20,
        "max": 200,
        "step": 2,
        "unit": "px",
        "label": "Size - mobile",
        "default": 36
      },
      {
        "type": "header",
        "content": "Feature wrapper colors"
      },
      {
        "type": "color",
        "id": "feature_bg",
        "label": "Background color",
        "default": "#F8FAFC"
      },
      {
        "type": "color",
        "id": "feature_border_color",
        "label": "Border color",
        "default": "#E2E8F0"
      },
      {
        "type": "color",
        "id": "feature_shadow_color",
        "label": "Shadow color",
        "default": "#000000"
      },
      {
        "type": "header",
        "content": "Feature content colors"
      },
      {
        "type": "color",
        "id": "feature_heading_color",
        "label": "Heading color",
        "default": "#1F2937"
      },
      {
        "type": "color",
        "id": "feature_text_color",
        "label": "Text color",
        "default": "#4B5563"
      },
      {
        "type": "color",
        "id": "feature_icon_color",
        "label": "Icon color",
        "default": "#2563EB"
      },
      {
        "type": "header",
        "content": "Section colors"
      },
      {
        "type": "color",
        "id": "background_color",
        "label": "Background color",
        "default": "#FFFFFF"
      },
      {
        "type": "color_background",
        "id": "background_gradient",
        "label": "Background gradient"
      },
      {
        "type": "color",
        "id": "border_color",
        "label": "Border",
        "default": "#E2E8F0"
      },
      {
        "type": "header",
        "content": "Section margin (outside)"
      },
      {
        "type": "range",
        "id": "margin_top",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Margin top",
        "default": 32
      },
      {
        "type": "range",
        "id": "margin_bottom",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Margin bottom",
        "default": 32
      },
      {
        "type": "header",
        "content": "Section padding (inside)"
      },
      {
        "type": "range",
        "id": "padding_top",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Padding top",
        "default": 24
      },
      {
        "type": "range",
        "id": "padding_bottom",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Padding bottom",
        "default": 24
      },
      {
        "type": "range",
        "id": "padding_horizontal",
        "min": 0,
        "max": 30,
        "step": 1,
        "unit": "rem",
        "label": "Padding sides",
        "default": 6
      },
      {
        "type": "range",
        "id": "padding_horizontal_mobile",
        "min": 0,
        "max": 15,
        "step": 0.5,
        "unit": "rem",
        "label": "Padding sides mobile",
        "default": 2
      },
      {
        "type": "header",
        "content": "Section settings"
      },
      {
        "type": "checkbox",
        "id": "full_width",
        "label": "Full width",
        "default": true
      },
      {
        "type": "range",
        "id": "content_width",
        "min": 0,
        "max": 400,
        "step": 10,
        "unit": "rem",
        "label": "Section content width",
        "default": 80
      },
      {
        "type": "range",
        "id": "border_thickness",
        "min": 0,
        "max": 50,
        "step": 1,
        "unit": "px",
        "label": "Border thickness",
        "default": 0
      },
      {
        "type": "checkbox",
        "id": "lazy",
        "label": "Lazy load images",
        "info": "Lazy load images for speed optimization",
        "default": true
      }
    ],
    "blocks": [
      {
        "type": "image",
        "name": "Feature",
        "settings": [
          {
            "type": "inline_richtext",
            "id": "feature_title",
            "label": "Item title text",
            "default": "Item title"
          },
          {
            "type": "richtext",
            "id": "feature_text",
            "label": "Item text (richtext)",
            "default": "<p>Item text</p>"
          },
          {
            "type": "image_picker",
            "id": "feature_image",
            "label": "Image"
          },
          {
            "type": "textarea",
            "id": "feature_svg_code",
            "label": "SVG Code",
            "info": "Paste SVG code here. If an image is selected, it takes precedence over SVG."
          },
          {
            "type": "url",
            "id": "feature_url",
            "label": "Item URL"
          },
          {
            "type": "checkbox",
            "id": "hide_image",
            "default": false,
            "label": "Hide Image/SVG"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Feature Blocks",
        "blocks": [
          {
            "type": "image",
            "settings": {
              "feature_title": "<strong>Hurtig forsendelse</strong>",
              "feature_text": "<p>Levering til døren i det meste af Danmark.</p>"
            }
          },
          {
            "type": "image",
            "settings": {
              "feature_title": "<strong>Prisgaranti</strong>",
              "feature_text": "<p>Spar penge, når du bestiller hos os</p>"
            }
          },
          {
            "type": "image",
            "settings": {
              "feature_title": "<strong>Problemfri ombytning</strong>",
              "feature_text": "<p>Ingen spørgsmål stillet</p>"
            }
          },
          {
            "type": "image",
            "settings": {
              "feature_title": "<strong>5-stjernede anmeldelser</strong>",
              "feature_text": "<p>Kundetilfredshed er førsteprioritet</p>"
            }
          }
        ]
      }
    ]
}
{% endschema %}